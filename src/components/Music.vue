<template>
  <div class="music">
      <h1>Music Player</h1>
      <button class="btn btn-default" v-on:click="fileOpen">
        <span class="icon icon-folder"></span>
      </button>
      <br />
      <audio controls id="player">
        <source v-for="(file, index) in files" :src="file" :key="index" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
  </div>
</template>

<script>
const remote = window.require("electron").remote;
const dialog = remote.dialog;

export default {
  data() {
    return {
      files: []
    };
  },
  methods: {
    fileOpen(event) {
      let tempPath = dialog.showOpenDialog({
        properties: ["openFile", "multiSelections"]
      });

      this.files = tempPath;

      let audioElement = document.getElementById("player");
      audioElement.load();
      audioElement.play();
    }
  }
};
</script>

<style scoped>
.music {
  text-align: center;
  margin: 0 auto;
}
</style>
